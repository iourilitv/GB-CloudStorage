# Updating after the project acceptance. 
GeekBrains. Курсовая работа: Итоговый проект Cloud Storage.
@Litvinenko Yuriy

Скриншшот GUI https://yadi.sk/i/AwTDqr84PshnQA
Видео https://youtu.be/ku0okBn_zGM

## 2.Issues and developments.
1. GUI. Проверить и исправить вывод сообщений в метку уведомлений. Есть баги.
2. GUI. ListVew. 
	- Исправить сортировку - вверху должны быть папки, а ниже файлы. 
	- Проверить и доработать контекстное меню. 
	Добавить clientListView.setContextMenu(contextMenu) в блок if, где выбирается показывать upload/download.
4. Netty. Добавить проверку активности соединения на стороне клиента, чтобы не вылетало исключение при отваливании сервера.
5. Netty. При передаче файлов сериализовать только объект сообщения, а байты передавать средствами netty следом после команды.
20. DONE. Maven. Исключить предупреждение о кодировке при сборке проекта. 
    Добавил в <properties> pom.xml[project] строку 
    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>.
21. System. Добавить логирование в файл и реорганизовать логирование в консоль.
22. GUI. Устранить дублирование открытия модальных окон.
    DONE. Выделить сервис модальных окон в отдельный класс WindowsManager.
23. GUI. Добавить в пункт меню Disconnect режим Connect. 
    Disconnect показывать в режиме подключен, Connect - отключен.
24. GUI. Добавить механизм усиленной проверки логина и пароля в форму регистрации.
    Можно взять из проекта netChat.
24. File. Добавить upload/download папок с объектами. Можно папку предварительно архивировать 
    и отправлять как обычный файл.
25. DONE. File. Исправить ошибки при отправке файлов более 2,6ГБ.
    Exception/Причина: 
    1. java. lang. ArrayIndexOutOfBoundsException/Слишком большой размер массива
        (индекс больше int);
    2. OutOfMemoryError Exception/Не хватает памяти кучи, чтобы рассчитать контрольную сумму 
    целого большого файла при нарезке и отправке фрагментов. По умолчанию jvm использует 512МБ ОЗУ.
    Решение. Удалил проверку контрольной суммы целого большого файла, достаточно проверки 
    контрольной суммы фрагментов.
    Выявил особенность приведения типов - Приводимое выражение должно быть в скобках!
    Иначе сначала fullFileSize(long) приводится к int, что приводит к ошибке при больших чем int значениях.
    int totalEntireFragsNumber = (int) (fullFileSize / FileFragmentMessage.CONST_FRAG_SIZE);
26. System. Разобраться почему при download файла 16ГБ на другой ПК процесс нарезки и отправки 
    фрагментов просто остановился при срабатывании screensaver на сервере(а может на клиенте?).
27. NOT DONE! Maven. Разобраться почему не собирается jar without dependencies при сборке проекта. 
    Пробовал добавить в <build><plugins> pom.xml[server] блок <plugin>, 
    но target [server] в папке classes нет классов [shared]модуля.
28. 

